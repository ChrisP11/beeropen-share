{% extends "base.html" %}
{% block content %}
{% load static %}

<div class="container py-4">
  <h1 class="display-4">Beer Open</h1>
  <h3 class="mb-1">13 September 2025</h3>
  <h3 class="mb-4">Arrowhead Golf Club</h3>

  {% if user.is_authenticated %}
    <p><a class="btn btn-primary" href="{% url 'dashboard' %}">Go to Dashboard</a></p>
  {% endif %}

<section class="container my-4">
  <h2 class="h4 mb-3">Past Events</h2>
  <div class="row g-3">
    {% with events=events|default_if_none:"" %}
      {% if events %}
        {% for ev in events %}
          <div class="col-6 col-md-4 col-lg-3 d-flex justify-content-center">
            <figure class="text-center m-0" style="max-width: 260px; width: 100%;">
              <a href="{% url 'archive_event' ev.year ev.event_type %}" class="logo-tile ratio ratio-1x1 d-block shadow-sm">
                {% if ev.logo %}
                  <img src="{{ ev.logo.url }}" alt="{{ ev.year }} {{ ev.event_type }} logo" class="w-100 h-100" style="object-fit: contain;">
                {% else %}
                  <div class="d-flex align-items-center justify-content-center h-100 text-muted">No Logo</div>
                {% endif %}
              </a>
              <figcaption class="mt-2 fw-bold">{{ ev.year }}</figcaption>
            </figure>
          </div>
        {% endfor %}
      {% else %}
        <!-- Optional: keep your single 2024 card as a fallback -->
        <!-- existing static tile for 2024 -->
      {% endif %}
    {% endwith %}
  </div>
</section>

{% endblock %}
